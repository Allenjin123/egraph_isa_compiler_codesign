;; ============================================================
;; Greenthumb-Generated Rewrite Rules
;; Auto-generated from riscv_greenthumb synthesis results
;; ============================================================

;; ============================================================
;; ADD Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 2: best-len2.s
;; Greenthumb sequence:
;;   1.     sub rd=x2 rs1=x0 rs2=x2
;;   2.     sub rd=x1 rs1=x3 rs2=x2
(birewrite (Add rs1 rs2)
           (Sub rs2 (Sub (RegVal "x0") rs1)))

;; Length 2: best-len3.s
;; Greenthumb sequence:
;;   1.     sub rd=x3 rs1=x0 rs2=x3
;;   2.     sub rd=x1 rs1=x2 rs2=x3
(birewrite (Add rs1 rs2)
           (Sub rs1 (Sub (RegVal "x0") rs2)))

;; ============================================================
;; ADDI Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 2: best-len2.s
;; Greenthumb sequence:
;;   1.     ori rd=x1 rs1=x0 imm=5
;;   2.     add rd=x1 rs1=x2 rs2=x1
(birewrite (Addi rs1 (ImmVal 5))
           (Add rs1 (Ori (RegVal "x0") (ImmVal 5))))

;; ============================================================
;; AND Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 3: best-len3.s
;; Greenthumb sequence:
;;   1.     or rd=x1 rs1=x2 rs2=x3
;;   2.     sub rd=x3 rs1=x1 rs2=x3
;;   3.     sub rd=x1 rs1=x2 rs2=x3
(birewrite (And rs1 rs2)
           (Sub rs1 (Sub (Or rs1 rs2) rs2)))

;; Length 4: best-len4.s
;; Greenthumb sequence:
;;   1.     xori rd=x1 rs1=x2 imm=-1
;;   2.     or rd=x1 rs1=x3 rs2=x2
;;   3.     sub rd=x1 rs1=x1 rs2=x3
;;   4.     sub rd=x1 rs1=x2 rs2=x1
(birewrite (And rs1 rs2)
           (Sub rs1 (Sub (Or rs2 rs1) rs2)))

;; Length 5: best-len5.s
;; Greenthumb sequence:
;;   1.     or rd=x1 rs1=x3 rs2=x2
;;   2.     or rd=x1 rs1=x3 rs2=x1
;;   3.     sub rd=x1 rs1=x1 rs2=x2
;;   4.     sub rd=x2 rs1=x3 rs2=x1
;;   5.     sub rd=x1 rs1=x3 rs2=x1
(birewrite (And rs1 rs2)
           (Sub rs2 (Sub (Or rs2 (Or rs2 rs1)) rs1)))

;; ============================================================
;; ANDI Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 2: best-len2.s
;; Greenthumb sequence:
;;   1.     addi rd=x1 rs1=x0 imm=5
;;   2.     and rd=x1 rs1=x1 rs2=x2
(birewrite (Andi rs1 (ImmVal 5))
           (And (Addi (RegVal "x0") (ImmVal 5)) rs1))

;; Length 3: best-len3.s
;; Greenthumb sequence:
;;   1.     xori rd=x1 rs1=x2 imm=5
;;   2.     or rd=x2 rs1=x2 rs2=x1
;;   3.     xor rd=x1 rs1=x1 rs2=x2
(birewrite (Andi rs1 (ImmVal 5))
           (Xor (Xori rs1 (ImmVal 5)) (Or rs1 (Xori rs1 (ImmVal 5)))))

;; Length 4: best-len4.s
;; Greenthumb sequence:
;;   1.     xori rd=x2 rs1=x2 imm=5
;;   2.     ori rd=x1 rs1=x2 imm=1
;;   3.     ori rd=x1 rs1=x1 imm=4
;;   4.     xor rd=x1 rs1=x2 rs2=x1
(birewrite (Andi rs1 (ImmVal 5))
           (Xor (Xori rs1 (ImmVal 5)) (Ori (Ori (Xori rs1 (ImmVal 5)) (ImmVal 1)) (ImmVal 4))))

;; ============================================================
;; DIV Rewrites (Greenthumb-generated)
;; ============================================================

;; ============================================================
;; DIVU Rewrites (Greenthumb-generated)
;; ============================================================

;; ============================================================
;; MUL Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 191: best-len191.s
;; Greenthumb sequence:
;;   1.     addi rd=x1 rs1=x0 imm=0
;;   2.     andi rd=x6 rs1=x3 imm=1
;;   3.     sub rd=x6 rs1=x0 rs2=x6
;;   4.     and rd=x7 rs1=x2 rs2=x6
;;   5.     add rd=x1 rs1=x1 rs2=x7
;;   6.     slli rd=x2 rs1=x2 imm=1
;;   7.     srli rd=x3 rs1=x3 imm=1
;;   8.     andi rd=x6 rs1=x3 imm=1
;;   9.     sub rd=x6 rs1=x0 rs2=x6
;;   10.     and rd=x7 rs1=x2 rs2=x6
;;   11.     add rd=x1 rs1=x1 rs2=x7
;;   12.     slli rd=x2 rs1=x2 imm=1
;;   13.     srli rd=x3 rs1=x3 imm=1
;;   14.     andi rd=x6 rs1=x3 imm=1
;;   15.     sub rd=x6 rs1=x0 rs2=x6
;;   16.     and rd=x7 rs1=x2 rs2=x6
;;   17.     add rd=x1 rs1=x1 rs2=x7
;;   18.     slli rd=x2 rs1=x2 imm=1
;;   19.     srli rd=x3 rs1=x3 imm=1
;;   20.     andi rd=x6 rs1=x3 imm=1
;;   21.     sub rd=x6 rs1=x0 rs2=x6
;;   22.     and rd=x7 rs1=x2 rs2=x6
;;   23.     add rd=x1 rs1=x1 rs2=x7
;;   24.     slli rd=x2 rs1=x2 imm=1
;;   25.     srli rd=x3 rs1=x3 imm=1
;;   26.     andi rd=x6 rs1=x3 imm=1
;;   27.     sub rd=x6 rs1=x0 rs2=x6
;;   28.     and rd=x7 rs1=x2 rs2=x6
;;   29.     add rd=x1 rs1=x1 rs2=x7
;;   30.     slli rd=x2 rs1=x2 imm=1
;;   31.     srli rd=x3 rs1=x3 imm=1
;;   32.     andi rd=x6 rs1=x3 imm=1
;;   33.     sub rd=x6 rs1=x0 rs2=x6
;;   34.     and rd=x7 rs1=x2 rs2=x6
;;   35.     add rd=x1 rs1=x1 rs2=x7
;;   36.     slli rd=x2 rs1=x2 imm=1
;;   37.     srli rd=x3 rs1=x3 imm=1
;;   38.     andi rd=x6 rs1=x3 imm=1
;;   39.     sub rd=x6 rs1=x0 rs2=x6
;;   40.     and rd=x7 rs1=x2 rs2=x6
;;   41.     add rd=x1 rs1=x1 rs2=x7
;;   42.     slli rd=x2 rs1=x2 imm=1
;;   43.     srli rd=x3 rs1=x3 imm=1
;;   44.     andi rd=x6 rs1=x3 imm=1
;;   45.     sub rd=x6 rs1=x0 rs2=x6
;;   46.     and rd=x7 rs1=x2 rs2=x6
;;   47.     add rd=x1 rs1=x1 rs2=x7
;;   48.     slli rd=x2 rs1=x2 imm=1
;;   49.     srli rd=x3 rs1=x3 imm=1
;;   50.     andi rd=x6 rs1=x3 imm=1
;;   51.     sub rd=x6 rs1=x0 rs2=x6
;;   52.     and rd=x7 rs1=x2 rs2=x6
;;   53.     add rd=x1 rs1=x1 rs2=x7
;;   54.     slli rd=x2 rs1=x2 imm=1
;;   55.     srli rd=x3 rs1=x3 imm=1
;;   56.     andi rd=x6 rs1=x3 imm=1
;;   57.     sub rd=x6 rs1=x0 rs2=x6
;;   58.     and rd=x7 rs1=x2 rs2=x6
;;   59.     add rd=x1 rs1=x1 rs2=x7
;;   60.     slli rd=x2 rs1=x2 imm=1
;;   61.     srli rd=x3 rs1=x3 imm=1
;;   62.     andi rd=x6 rs1=x3 imm=1
;;   63.     sub rd=x6 rs1=x0 rs2=x6
;;   64.     and rd=x7 rs1=x2 rs2=x6
;;   65.     add rd=x1 rs1=x1 rs2=x7
;;   66.     slli rd=x2 rs1=x2 imm=1
;;   67.     srli rd=x3 rs1=x3 imm=1
;;   68.     andi rd=x6 rs1=x3 imm=1
;;   69.     sub rd=x6 rs1=x0 rs2=x6
;;   70.     and rd=x7 rs1=x2 rs2=x6
;;   71.     add rd=x1 rs1=x1 rs2=x7
;;   72.     slli rd=x2 rs1=x2 imm=1
;;   73.     srli rd=x3 rs1=x3 imm=1
;;   74.     andi rd=x6 rs1=x3 imm=1
;;   75.     sub rd=x6 rs1=x0 rs2=x6
;;   76.     and rd=x7 rs1=x2 rs2=x6
;;   77.     add rd=x1 rs1=x1 rs2=x7
;;   78.     slli rd=x2 rs1=x2 imm=1
;;   79.     srli rd=x3 rs1=x3 imm=1
;;   80.     andi rd=x6 rs1=x3 imm=1
;;   81.     sub rd=x6 rs1=x0 rs2=x6
;;   82.     and rd=x7 rs1=x2 rs2=x6
;;   83.     add rd=x1 rs1=x1 rs2=x7
;;   84.     slli rd=x2 rs1=x2 imm=1
;;   85.     srli rd=x3 rs1=x3 imm=1
;;   86.     andi rd=x6 rs1=x3 imm=1
;;   87.     sub rd=x6 rs1=x0 rs2=x6
;;   88.     and rd=x7 rs1=x2 rs2=x6
;;   89.     add rd=x1 rs1=x1 rs2=x7
;;   90.     slli rd=x2 rs1=x2 imm=1
;;   91.     srli rd=x3 rs1=x3 imm=1
;;   92.     andi rd=x6 rs1=x3 imm=1
;;   93.     sub rd=x6 rs1=x0 rs2=x6
;;   94.     and rd=x7 rs1=x2 rs2=x6
;;   95.     add rd=x1 rs1=x1 rs2=x7
;;   96.     slli rd=x2 rs1=x2 imm=1
;;   97.     srli rd=x3 rs1=x3 imm=1
;;   98.     andi rd=x6 rs1=x3 imm=1
;;   99.     sub rd=x6 rs1=x0 rs2=x6
;;   100.     and rd=x7 rs1=x2 rs2=x6
;;   101.     add rd=x1 rs1=x1 rs2=x7
;;   102.     slli rd=x2 rs1=x2 imm=1
;;   103.     srli rd=x3 rs1=x3 imm=1
;;   104.     andi rd=x6 rs1=x3 imm=1
;;   105.     sub rd=x6 rs1=x0 rs2=x6
;;   106.     and rd=x7 rs1=x2 rs2=x6
;;   107.     add rd=x1 rs1=x1 rs2=x7
;;   108.     slli rd=x2 rs1=x2 imm=1
;;   109.     srli rd=x3 rs1=x3 imm=1
;;   110.     andi rd=x6 rs1=x3 imm=1
;;   111.     sub rd=x6 rs1=x0 rs2=x6
;;   112.     and rd=x7 rs1=x2 rs2=x6
;;   113.     add rd=x1 rs1=x1 rs2=x7
;;   114.     slli rd=x2 rs1=x2 imm=1
;;   115.     srli rd=x3 rs1=x3 imm=1
;;   116.     andi rd=x6 rs1=x3 imm=1
;;   117.     sub rd=x6 rs1=x0 rs2=x6
;;   118.     and rd=x7 rs1=x2 rs2=x6
;;   119.     add rd=x1 rs1=x1 rs2=x7
;;   120.     slli rd=x2 rs1=x2 imm=1
;;   121.     srli rd=x3 rs1=x3 imm=1
;;   122.     andi rd=x6 rs1=x3 imm=1
;;   123.     sub rd=x6 rs1=x0 rs2=x6
;;   124.     and rd=x7 rs1=x2 rs2=x6
;;   125.     add rd=x1 rs1=x1 rs2=x7
;;   126.     slli rd=x2 rs1=x2 imm=1
;;   127.     srli rd=x3 rs1=x3 imm=1
;;   128.     andi rd=x6 rs1=x3 imm=1
;;   129.     sub rd=x6 rs1=x0 rs2=x6
;;   130.     and rd=x7 rs1=x2 rs2=x6
;;   131.     add rd=x1 rs1=x1 rs2=x7
;;   132.     slli rd=x2 rs1=x2 imm=1
;;   133.     srli rd=x3 rs1=x3 imm=1
;;   134.     andi rd=x6 rs1=x3 imm=1
;;   135.     sub rd=x6 rs1=x0 rs2=x6
;;   136.     and rd=x7 rs1=x2 rs2=x6
;;   137.     add rd=x1 rs1=x1 rs2=x7
;;   138.     slli rd=x2 rs1=x2 imm=1
;;   139.     srli rd=x3 rs1=x3 imm=1
;;   140.     andi rd=x6 rs1=x3 imm=1
;;   141.     sub rd=x6 rs1=x0 rs2=x6
;;   142.     and rd=x7 rs1=x2 rs2=x6
;;   143.     add rd=x1 rs1=x1 rs2=x7
;;   144.     slli rd=x2 rs1=x2 imm=1
;;   145.     srli rd=x3 rs1=x3 imm=1
;;   146.     andi rd=x6 rs1=x3 imm=1
;;   147.     sub rd=x6 rs1=x0 rs2=x6
;;   148.     and rd=x7 rs1=x2 rs2=x6
;;   149.     add rd=x1 rs1=x1 rs2=x7
;;   150.     slli rd=x2 rs1=x2 imm=1
;;   151.     srli rd=x3 rs1=x3 imm=1
;;   152.     andi rd=x6 rs1=x3 imm=1
;;   153.     sub rd=x6 rs1=x0 rs2=x6
;;   154.     and rd=x7 rs1=x2 rs2=x6
;;   155.     add rd=x1 rs1=x1 rs2=x7
;;   156.     slli rd=x2 rs1=x2 imm=1
;;   157.     srli rd=x3 rs1=x3 imm=1
;;   158.     andi rd=x6 rs1=x3 imm=1
;;   159.     sub rd=x6 rs1=x0 rs2=x6
;;   160.     and rd=x7 rs1=x2 rs2=x6
;;   161.     add rd=x1 rs1=x1 rs2=x7
;;   162.     slli rd=x2 rs1=x2 imm=1
;;   163.     srli rd=x3 rs1=x3 imm=1
;;   164.     andi rd=x6 rs1=x3 imm=1
;;   165.     sub rd=x6 rs1=x0 rs2=x6
;;   166.     and rd=x7 rs1=x2 rs2=x6
;;   167.     add rd=x1 rs1=x1 rs2=x7
;;   168.     slli rd=x2 rs1=x2 imm=1
;;   169.     srli rd=x3 rs1=x3 imm=1
;;   170.     andi rd=x6 rs1=x3 imm=1
;;   171.     sub rd=x6 rs1=x0 rs2=x6
;;   172.     and rd=x7 rs1=x2 rs2=x6
;;   173.     add rd=x1 rs1=x1 rs2=x7
;;   174.     slli rd=x2 rs1=x2 imm=1
;;   175.     srli rd=x3 rs1=x3 imm=1
;;   176.     andi rd=x6 rs1=x3 imm=1
;;   177.     sub rd=x6 rs1=x0 rs2=x6
;;   178.     and rd=x7 rs1=x2 rs2=x6
;;   179.     add rd=x1 rs1=x1 rs2=x7
;;   180.     slli rd=x2 rs1=x2 imm=1
;;   181.     srli rd=x3 rs1=x3 imm=1
;;   182.     andi rd=x6 rs1=x3 imm=1
;;   183.     sub rd=x6 rs1=x0 rs2=x6
;;   184.     and rd=x7 rs1=x2 rs2=x6
;;   185.     add rd=x1 rs1=x1 rs2=x7
;;   186.     slli rd=x2 rs1=x2 imm=1
;;   187.     srli rd=x3 rs1=x3 imm=1
;;   188.     andi rd=x6 rs1=x3 imm=1
;;   189.     sub rd=x6 rs1=x0 rs2=x6
;;   190.     and rd=x7 rs1=x2 rs2=x6
;;   191.     add rd=x1 rs1=x1 rs2=x7
(birewrite (Mul rs1 rs2)
           (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Addi (RegVal "x0") (ImmVal 0)) (And rs1 (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))))) (And (Slli rs1 (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli rs2 (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))) (And (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli (Slli rs1 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Andi (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli (Srli rs2 (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1)) (ImmVal 1))))))

;; ============================================================
;; MULH Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 18: best-len18.s
;; Greenthumb sequence:
;;   1.     lui rd=x20 imm=16
;;   2.     addi rd=x20 rs1=x20 imm=-1
;;   3.     and rd=x4 rs1=x2 rs2=x20
;;   4.     srai rd=x5 rs1=x2 imm=16
;;   5.     and rd=x6 rs1=x3 rs2=x20
;;   6.     srai rd=x7 rs1=x3 imm=16
;;   7.     mul rd=x8 rs1=x4 rs2=x6
;;   8.     mul rd=x9 rs1=x5 rs2=x6
;;   9.     srli rd=x10 rs1=x8 imm=16
;;   10.     add rd=x9 rs1=x9 rs2=x10
;;   11.     and rd=x11 rs1=x9 rs2=x20
;;   12.     srai rd=x12 rs1=x9 imm=16
;;   13.     mul rd=x13 rs1=x4 rs2=x7
;;   14.     add rd=x11 rs1=x11 rs2=x13
;;   15.     mul rd=x1 rs1=x5 rs2=x7
;;   16.     add rd=x1 rs1=x1 rs2=x12
;;   17.     srai rd=x13 rs1=x11 imm=16
;;   18.     add rd=x1 rs1=x1 rs2=x13
(birewrite (Mulh rs1 rs2)
           (Add (Add (Mul (Srai rs1 (ImmVal 16)) (Srai rs2 (ImmVal 16))) (Srai (Add (Mul (Srai rs1 (ImmVal 16)) (And rs2 (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (Srli (Mul (And rs1 (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And rs2 (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (ImmVal 16))) (ImmVal 16))) (Srai (Add (And (Add (Mul (Srai rs1 (ImmVal 16)) (And rs2 (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (Srli (Mul (And rs1 (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And rs2 (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (ImmVal 16))) (Addi (Lui (ImmVal 16)) (ImmVal -1))) (Mul (And rs1 (Addi (Lui (ImmVal 16)) (ImmVal -1))) (Srai rs2 (ImmVal 16)))) (ImmVal 16))))

;; ============================================================
;; MULHSU Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 24: best-len25.s
;; Greenthumb sequence:
;;   1.     lui rd=x20 imm=16
;;   2.     addi rd=x20 rs1=x20 imm=-1
;;   3.     and rd=x4 rs1=x2 rs2=x20
;;   4.     srli rd=x5 rs1=x2 imm=16
;;   5.     and rd=x6 rs1=x3 rs2=x20
;;   6.     srli rd=x7 rs1=x3 imm=16
;;   7.     mul rd=x8 rs1=x4 rs2=x6
;;   8.     mul rd=x9 rs1=x4 rs2=x7
;;   9.     mul rd=x10 rs1=x5 rs2=x6
;;   10.     mul rd=x11 rs1=x5 rs2=x7
;;   11.     and rd=x12 rs1=x9 rs2=x20
;;   12.     and rd=x13 rs1=x10 rs2=x20
;;   13.     srli rd=x14 rs1=x8 imm=16
;;   14.     add rd=x15 rs1=x12 rs2=x13
;;   15.     add rd=x15 rs1=x15 rs2=x14
;;   16.     srli rd=x16 rs1=x15 imm=16
;;   17.     srli rd=x17 rs1=x9 imm=16
;;   18.     srli rd=x18 rs1=x10 imm=16
;;   19.     add rd=x1 rs1=x11 rs2=x17
;;   20.     add rd=x1 rs1=x1 rs2=x18
;;   21.     add rd=x1 rs1=x1 rs2=x16
;;   22.     srai rd=x19 rs1=x2 imm=31
;;   23.     and rd=x19 rs1=x19 rs2=x3
;;   24.     sub rd=x1 rs1=x1 rs2=x19
(birewrite (Mulhsu rs1 rs2)
           (Sub (Add (Add (Add (Mul (Srli rs1 (ImmVal 16)) (Srli rs2 (ImmVal 16))) (Srli (Mul (And rs1 (Addi (Lui (ImmVal 16)) (ImmVal -1))) (Srli rs2 (ImmVal 16))) (ImmVal 16))) (Srli (Mul (Srli rs1 (ImmVal 16)) (And rs2 (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (ImmVal 16))) (Srli (Add (Add (And (Mul (And rs1 (Addi (Lui (ImmVal 16)) (ImmVal -1))) (Srli rs2 (ImmVal 16))) (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And (Mul (Srli rs1 (ImmVal 16)) (And rs2 (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (Srli (Mul (And rs1 (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And rs2 (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (ImmVal 16))) (ImmVal 16))) (And (Srai rs1 (ImmVal 31)) rs2)))

;; ============================================================
;; MULHU Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 23: best-len24.s
;; Greenthumb sequence:
;;   1.     lui rd=x20 imm=16
;;   2.     addi rd=x20 rs1=x20 imm=-1
;;   3.     and rd=x4 rs1=x2 rs2=x20
;;   4.     srli rd=x5 rs1=x2 imm=16
;;   5.     and rd=x5 rs1=x5 rs2=x20
;;   6.     and rd=x6 rs1=x3 rs2=x20
;;   7.     srli rd=x7 rs1=x3 imm=16
;;   8.     and rd=x7 rs1=x7 rs2=x20
;;   9.     mul rd=x8 rs1=x4 rs2=x6
;;   10.     mul rd=x9 rs1=x4 rs2=x7
;;   11.     mul rd=x10 rs1=x5 rs2=x6
;;   12.     mul rd=x11 rs1=x5 rs2=x7
;;   13.     and rd=x12 rs1=x9 rs2=x20
;;   14.     and rd=x13 rs1=x10 rs2=x20
;;   15.     srli rd=x14 rs1=x8 imm=16
;;   16.     add rd=x15 rs1=x12 rs2=x13
;;   17.     add rd=x15 rs1=x15 rs2=x14
;;   18.     srli rd=x16 rs1=x15 imm=16
;;   19.     srli rd=x17 rs1=x9 imm=16
;;   20.     srli rd=x18 rs1=x10 imm=16
;;   21.     add rd=x1 rs1=x11 rs2=x17
;;   22.     add rd=x1 rs1=x1 rs2=x18
;;   23.     add rd=x1 rs1=x1 rs2=x16
(birewrite (Mulhu rs1 rs2)
           (Add (Add (Add (Mul (And (Srli rs1 (ImmVal 16)) (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And (Srli rs2 (ImmVal 16)) (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (Srli (Mul (And rs1 (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And (Srli rs2 (ImmVal 16)) (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (ImmVal 16))) (Srli (Mul (And (Srli rs1 (ImmVal 16)) (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And rs2 (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (ImmVal 16))) (Srli (Add (Add (And (Mul (And rs1 (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And (Srli rs2 (ImmVal 16)) (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And (Mul (And (Srli rs1 (ImmVal 16)) (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And rs2 (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (Srli (Mul (And rs1 (Addi (Lui (ImmVal 16)) (ImmVal -1))) (And rs2 (Addi (Lui (ImmVal 16)) (ImmVal -1)))) (ImmVal 16))) (ImmVal 16))))

;; ============================================================
;; OR Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 3: best-len3.s
;; Greenthumb sequence:
;;   1.     xori rd=x1 rs1=x2 imm=-1
;;   2.     and rd=x3 rs1=x3 rs2=x1
;;   3.     add rd=x1 rs1=x3 rs2=x2
(birewrite (Or rs1 rs2)
           (Add (And rs2 (Xori rs1 (ImmVal -1))) rs1))

;; Length 4: best-len4.s
;; Greenthumb sequence:
;;   1.     and rd=x1 rs1=x2 rs2=x3
;;   2.     xori rd=x1 rs1=x3 imm=-1
;;   3.     and rd=x1 rs1=x1 rs2=x2
;;   4.     add rd=x1 rs1=x3 rs2=x1
(birewrite (Or rs1 rs2)
           (Add rs2 (And (Xori rs2 (ImmVal -1)) rs1)))

;; Length 5: best-len5.s
;; Greenthumb sequence:
;;   1.     and rd=x1 rs1=x2 rs2=x3
;;   2.     sub rd=x1 rs1=x1 rs2=x3
;;   3.     xori rd=x3 rs1=x3 imm=-1
;;   4.     xori rd=x3 rs1=x0 imm=-1
;;   5.     sub rd=x1 rs1=x2 rs2=x1
(birewrite (Or rs1 rs2)
           (Sub rs1 (Sub (And rs1 rs2) rs2)))

;; ============================================================
;; ORI Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 2: best-len2.s
;; Greenthumb sequence:
;;   1.     xori rd=x1 rs1=x0 imm=5
;;   2.     or rd=x1 rs1=x1 rs2=x2
(birewrite (Ori rs1 (ImmVal 5))
           (Or (Xori (RegVal "x0") (ImmVal 5)) rs1))

;; Length 3: best-len3.s
;; Greenthumb sequence:
;;   1.     andi rd=x1 rs1=x2 imm=5
;;   2.     xor rd=x2 rs1=x2 rs2=x1
;;   3.     xori rd=x1 rs1=x2 imm=5
(birewrite (Ori rs1 (ImmVal 5))
           (Xori (Xor rs1 (Andi rs1 (ImmVal 5))) (ImmVal 5)))

;; Length 4: best-len4.s
;; Greenthumb sequence:
;;   1.     xori rd=x1 rs1=x2 imm=5
;;   2.     and rd=x1 rs1=x2 rs2=x1
;;   3.     xori rd=x1 rs1=x1 imm=5
;;   4.     andi rd=x2 rs1=x2 imm=0
(birewrite (Ori rs1 (ImmVal 5))
           (Xori (And rs1 (Xori rs1 (ImmVal 5))) (ImmVal 5)))

;; ============================================================
;; REM Rewrites (Greenthumb-generated)
;; ============================================================

;; ============================================================
;; REMU Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 3: best-len3.s
;; Greenthumb sequence:
;;   1.     divu rd=x4 rs1=x2 rs2=x3
;;   2.     mul rd=x4 rs1=x4 rs2=x3
;;   3.     sub rd=x1 rs1=x2 rs2=x4
(birewrite (Remu rs1 rs2)
           (Sub rs1 (Mul (Divu rs1 rs2) rs2)))

;; ============================================================
;; SLL Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 40: best-len45.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     andi rd=x4 rs1=x3 imm=1
;;   3.     sub rd=x5 rs1=x0 rs2=x4
;;   4.     slli rd=x6 rs1=x1 imm=1
;;   5.     and rd=x7 rs1=x6 rs2=x5
;;   6.     xori rd=x5 rs1=x5 imm=-1
;;   7.     and rd=x8 rs1=x1 rs2=x5
;;   8.     or rd=x1 rs1=x7 rs2=x8
;;   9.     andi rd=x4 rs1=x3 imm=2
;;   10.     srli rd=x4 rs1=x4 imm=1
;;   11.     sub rd=x5 rs1=x0 rs2=x4
;;   12.     slli rd=x6 rs1=x1 imm=2
;;   13.     and rd=x7 rs1=x6 rs2=x5
;;   14.     xori rd=x5 rs1=x5 imm=-1
;;   15.     and rd=x8 rs1=x1 rs2=x5
;;   16.     or rd=x1 rs1=x7 rs2=x8
;;   17.     andi rd=x4 rs1=x3 imm=4
;;   18.     srli rd=x4 rs1=x4 imm=2
;;   19.     sub rd=x5 rs1=x0 rs2=x4
;;   20.     slli rd=x6 rs1=x1 imm=4
;;   21.     and rd=x7 rs1=x6 rs2=x5
;;   22.     xori rd=x5 rs1=x5 imm=-1
;;   23.     and rd=x8 rs1=x1 rs2=x5
;;   24.     or rd=x1 rs1=x7 rs2=x8
;;   25.     andi rd=x4 rs1=x3 imm=8
;;   26.     srli rd=x4 rs1=x4 imm=3
;;   27.     sub rd=x5 rs1=x0 rs2=x4
;;   28.     slli rd=x6 rs1=x1 imm=8
;;   29.     and rd=x7 rs1=x6 rs2=x5
;;   30.     xori rd=x5 rs1=x5 imm=-1
;;   31.     and rd=x8 rs1=x1 rs2=x5
;;   32.     or rd=x1 rs1=x7 rs2=x8
;;   33.     andi rd=x4 rs1=x3 imm=16
;;   34.     srli rd=x4 rs1=x4 imm=4
;;   35.     sub rd=x5 rs1=x0 rs2=x4
;;   36.     slli rd=x6 rs1=x1 imm=16
;;   37.     and rd=x7 rs1=x6 rs2=x5
;;   38.     xori rd=x5 rs1=x5 imm=-1
;;   39.     and rd=x8 rs1=x1 rs2=x5
;;   40.     or rd=x1 rs1=x7 rs2=x8
(birewrite (Sll rs1 rs2)
           (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (ImmVal 16)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4)))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4))) (ImmVal -1)))))

;; Length 43: best-len50-fixed.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     sltiu rd=x4 rs1=x3 imm=32
;;   3.     sub rd=x4 rs1=x0 rs2=x4
;;   4.     and rd=x1 rs1=x1 rs2=x4
;;   5.     andi rd=x5 rs1=x3 imm=1
;;   6.     sub rd=x6 rs1=x0 rs2=x5
;;   7.     slli rd=x7 rs1=x1 imm=1
;;   8.     and rd=x8 rs1=x7 rs2=x6
;;   9.     xori rd=x6 rs1=x6 imm=-1
;;   10.     and rd=x9 rs1=x1 rs2=x6
;;   11.     or rd=x1 rs1=x8 rs2=x9
;;   12.     andi rd=x5 rs1=x3 imm=2
;;   13.     srli rd=x5 rs1=x5 imm=1
;;   14.     sub rd=x6 rs1=x0 rs2=x5
;;   15.     slli rd=x7 rs1=x1 imm=2
;;   16.     and rd=x8 rs1=x7 rs2=x6
;;   17.     xori rd=x6 rs1=x6 imm=-1
;;   18.     and rd=x9 rs1=x1 rs2=x6
;;   19.     or rd=x1 rs1=x8 rs2=x9
;;   20.     andi rd=x5 rs1=x3 imm=4
;;   21.     srli rd=x5 rs1=x5 imm=2
;;   22.     sub rd=x6 rs1=x0 rs2=x5
;;   23.     slli rd=x7 rs1=x1 imm=4
;;   24.     and rd=x8 rs1=x7 rs2=x6
;;   25.     xori rd=x6 rs1=x6 imm=-1
;;   26.     and rd=x9 rs1=x1 rs2=x6
;;   27.     or rd=x1 rs1=x8 rs2=x9
;;   28.     andi rd=x5 rs1=x3 imm=8
;;   29.     srli rd=x5 rs1=x5 imm=3
;;   30.     sub rd=x6 rs1=x0 rs2=x5
;;   31.     slli rd=x7 rs1=x1 imm=8
;;   32.     and rd=x8 rs1=x7 rs2=x6
;;   33.     xori rd=x6 rs1=x6 imm=-1
;;   34.     and rd=x9 rs1=x1 rs2=x6
;;   35.     or rd=x1 rs1=x8 rs2=x9
;;   36.     andi rd=x5 rs1=x3 imm=16
;;   37.     srli rd=x5 rs1=x5 imm=4
;;   38.     sub rd=x6 rs1=x0 rs2=x5
;;   39.     slli rd=x7 rs1=x1 imm=16
;;   40.     and rd=x8 rs1=x7 rs2=x6
;;   41.     xori rd=x6 rs1=x6 imm=-1
;;   42.     and rd=x9 rs1=x1 rs2=x6
;;   43.     or rd=x1 rs1=x8 rs2=x9
(birewrite (Sll rs1 rs2)
           (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (ImmVal 16)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4)))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4))) (ImmVal -1)))))

;; Length 46: best-len50.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     andi rd=x4 rs1=x3 imm=31
;;   3.     andi rd=x5 rs1=x4 imm=1
;;   4.     slli rd=x6 rs1=x5 imm=31
;;   5.     srai rd=x6 rs1=x6 imm=31
;;   6.     slli rd=x7 rs1=x1 imm=1
;;   7.     and rd=x8 rs1=x7 rs2=x6
;;   8.     xori rd=x6 rs1=x6 imm=-1
;;   9.     and rd=x9 rs1=x1 rs2=x6
;;   10.     or rd=x1 rs1=x8 rs2=x9
;;   11.     andi rd=x5 rs1=x4 imm=2
;;   12.     srli rd=x5 rs1=x5 imm=1
;;   13.     slli rd=x6 rs1=x5 imm=31
;;   14.     srai rd=x6 rs1=x6 imm=31
;;   15.     slli rd=x7 rs1=x1 imm=2
;;   16.     and rd=x8 rs1=x7 rs2=x6
;;   17.     xori rd=x6 rs1=x6 imm=-1
;;   18.     and rd=x9 rs1=x1 rs2=x6
;;   19.     or rd=x1 rs1=x8 rs2=x9
;;   20.     andi rd=x5 rs1=x4 imm=4
;;   21.     srli rd=x5 rs1=x5 imm=2
;;   22.     slli rd=x6 rs1=x5 imm=31
;;   23.     srai rd=x6 rs1=x6 imm=31
;;   24.     slli rd=x7 rs1=x1 imm=4
;;   25.     and rd=x8 rs1=x7 rs2=x6
;;   26.     xori rd=x6 rs1=x6 imm=-1
;;   27.     and rd=x9 rs1=x1 rs2=x6
;;   28.     or rd=x1 rs1=x8 rs2=x9
;;   29.     andi rd=x5 rs1=x4 imm=8
;;   30.     srli rd=x5 rs1=x5 imm=3
;;   31.     slli rd=x6 rs1=x5 imm=31
;;   32.     srai rd=x6 rs1=x6 imm=31
;;   33.     slli rd=x7 rs1=x1 imm=8
;;   34.     and rd=x8 rs1=x7 rs2=x6
;;   35.     xori rd=x6 rs1=x6 imm=-1
;;   36.     and rd=x9 rs1=x1 rs2=x6
;;   37.     or rd=x1 rs1=x8 rs2=x9
;;   38.     andi rd=x5 rs1=x4 imm=16
;;   39.     srli rd=x5 rs1=x5 imm=4
;;   40.     slli rd=x6 rs1=x5 imm=31
;;   41.     srai rd=x6 rs1=x6 imm=31
;;   42.     slli rd=x7 rs1=x1 imm=16
;;   43.     and rd=x8 rs1=x7 rs2=x6
;;   44.     xori rd=x6 rs1=x6 imm=-1
;;   45.     and rd=x9 rs1=x1 rs2=x6
;;   46.     or rd=x1 rs1=x8 rs2=x9
(birewrite (Sll rs1 rs2)
           (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 8)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 16)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 16)) (ImmVal 4)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 8)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 16)) (ImmVal 4)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))))

;; Length 51: best-len52-v2.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     andi rd=x4 rs1=x3 imm=-32
;;   3.     sltu rd=x5 rs1=x0 rs2=x4
;;   4.     sub rd=x5 rs1=x0 rs2=x5
;;   5.     xori rd=x5 rs1=x5 imm=-1
;;   6.     and rd=x1 rs1=x1 rs2=x5
;;   7.     andi rd=x4 rs1=x3 imm=31
;;   8.     andi rd=x6 rs1=x4 imm=1
;;   9.     slli rd=x7 rs1=x6 imm=31
;;   10.     srai rd=x7 rs1=x7 imm=31
;;   11.     slli rd=x8 rs1=x1 imm=1
;;   12.     and rd=x9 rs1=x8 rs2=x7
;;   13.     xori rd=x7 rs1=x7 imm=-1
;;   14.     and rd=x10 rs1=x1 rs2=x7
;;   15.     or rd=x1 rs1=x9 rs2=x10
;;   16.     andi rd=x6 rs1=x4 imm=2
;;   17.     srli rd=x6 rs1=x6 imm=1
;;   18.     slli rd=x7 rs1=x6 imm=31
;;   19.     srai rd=x7 rs1=x7 imm=31
;;   20.     slli rd=x8 rs1=x1 imm=2
;;   21.     and rd=x9 rs1=x8 rs2=x7
;;   22.     xori rd=x7 rs1=x7 imm=-1
;;   23.     and rd=x10 rs1=x1 rs2=x7
;;   24.     or rd=x1 rs1=x9 rs2=x10
;;   25.     andi rd=x6 rs1=x4 imm=4
;;   26.     srli rd=x6 rs1=x6 imm=2
;;   27.     slli rd=x7 rs1=x6 imm=31
;;   28.     srai rd=x7 rs1=x7 imm=31
;;   29.     slli rd=x8 rs1=x1 imm=4
;;   30.     and rd=x9 rs1=x8 rs2=x7
;;   31.     xori rd=x7 rs1=x7 imm=-1
;;   32.     and rd=x10 rs1=x1 rs2=x7
;;   33.     or rd=x1 rs1=x9 rs2=x10
;;   34.     andi rd=x6 rs1=x4 imm=8
;;   35.     srli rd=x6 rs1=x6 imm=3
;;   36.     slli rd=x7 rs1=x6 imm=31
;;   37.     srai rd=x7 rs1=x7 imm=31
;;   38.     slli rd=x8 rs1=x1 imm=8
;;   39.     and rd=x9 rs1=x8 rs2=x7
;;   40.     xori rd=x7 rs1=x7 imm=-1
;;   41.     and rd=x10 rs1=x1 rs2=x7
;;   42.     or rd=x1 rs1=x9 rs2=x10
;;   43.     andi rd=x6 rs1=x4 imm=16
;;   44.     srli rd=x6 rs1=x6 imm=4
;;   45.     slli rd=x7 rs1=x6 imm=31
;;   46.     srai rd=x7 rs1=x7 imm=31
;;   47.     slli rd=x8 rs1=x1 imm=16
;;   48.     and rd=x9 rs1=x8 rs2=x7
;;   49.     xori rd=x7 rs1=x7 imm=-1
;;   50.     and rd=x10 rs1=x1 rs2=x7
;;   51.     or rd=x1 rs1=x9 rs2=x10
(birewrite (Sll rs1 rs2)
           (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 8)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 16)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 16)) (ImmVal 4)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 8)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Slli (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal -32)))) (ImmVal -1))) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 16)) (ImmVal 4)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))))

;; Length 46: best-len52.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     andi rd=x4 rs1=x3 imm=1
;;   3.     sub rd=x5 rs1=x0 rs2=x4
;;   4.     slli rd=x6 rs1=x1 imm=1
;;   5.     and rd=x7 rs1=x6 rs2=x5
;;   6.     sub rd=x8 rs1=x0 rs2=x5
;;   7.     and rd=x9 rs1=x1 rs2=x8
;;   8.     or rd=x1 rs1=x7 rs2=x9
;;   9.     andi rd=x4 rs1=x3 imm=2
;;   10.     srli rd=x4 rs1=x4 imm=1
;;   11.     sub rd=x5 rs1=x0 rs2=x4
;;   12.     slli rd=x6 rs1=x1 imm=2
;;   13.     and rd=x7 rs1=x6 rs2=x5
;;   14.     sub rd=x8 rs1=x0 rs2=x5
;;   15.     and rd=x9 rs1=x1 rs2=x8
;;   16.     or rd=x1 rs1=x7 rs2=x9
;;   17.     andi rd=x4 rs1=x3 imm=4
;;   18.     srli rd=x4 rs1=x4 imm=2
;;   19.     sub rd=x5 rs1=x0 rs2=x4
;;   20.     slli rd=x6 rs1=x1 imm=4
;;   21.     and rd=x7 rs1=x6 rs2=x5
;;   22.     sub rd=x8 rs1=x0 rs2=x5
;;   23.     and rd=x9 rs1=x1 rs2=x8
;;   24.     or rd=x1 rs1=x7 rs2=x9
;;   25.     andi rd=x4 rs1=x3 imm=8
;;   26.     srli rd=x4 rs1=x4 imm=3
;;   27.     sub rd=x5 rs1=x0 rs2=x4
;;   28.     slli rd=x6 rs1=x1 imm=8
;;   29.     and rd=x7 rs1=x6 rs2=x5
;;   30.     sub rd=x8 rs1=x0 rs2=x5
;;   31.     and rd=x9 rs1=x1 rs2=x8
;;   32.     or rd=x1 rs1=x7 rs2=x9
;;   33.     andi rd=x4 rs1=x3 imm=16
;;   34.     srli rd=x4 rs1=x4 imm=4
;;   35.     sub rd=x5 rs1=x0 rs2=x4
;;   36.     slli rd=x6 rs1=x1 imm=16
;;   37.     and rd=x7 rs1=x6 rs2=x5
;;   38.     sub rd=x8 rs1=x0 rs2=x5
;;   39.     and rd=x9 rs1=x1 rs2=x8
;;   40.     or rd=x1 rs1=x7 rs2=x9
;;   41.     andi rd=x4 rs1=x3 imm=32
;;   42.     sub rd=x5 rs1=x0 rs2=x4
;;   43.     sub rd=x5 rs1=x0 rs2=x5
;;   44.     srli rd=x5 rs1=x5 imm=5
;;   45.     sub rd=x5 rs1=x0 rs2=x5
;;   46.     and rd=x1 rs1=x1 rs2=x5
(birewrite (Sll rs1 rs2)
           (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))))) (ImmVal 16)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4)))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Slli (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Slli (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))))) (Sub (RegVal "x0") (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4)))))) (Sub (RegVal "x0") (Srli (Sub (RegVal "x0") (Sub (RegVal "x0") (Andi rs2 (ImmVal 32)))) (ImmVal 5)))))

;; ============================================================
;; SLLI Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 2: best-len2.s
;; Greenthumb sequence:
;;   1.     ori rd=x1 rs1=x0 imm=5
;;   2.     sll rd=x1 rs1=x2 rs2=x1
(birewrite (Slli rs1 (ImmVal 5))
           (Sll rs1 (Ori (RegVal "x0") (ImmVal 5))))

;; Length 5: best-len5.s
;; Greenthumb sequence:
;;   1.     add rd=x2 rs1=x2 rs2=x2
;;   2.     add rd=x2 rs1=x2 rs2=x2
;;   3.     add rd=x2 rs1=x2 rs2=x2
;;   4.     add rd=x2 rs1=x2 rs2=x2
;;   5.     add rd=x1 rs1=x2 rs2=x2
(birewrite (Slli rs1 (ImmVal 5))
           (Add (Add (Add (Add (Add rs1 rs1) (Add rs1 rs1)) (Add (Add rs1 rs1) (Add rs1 rs1))) (Add (Add (Add rs1 rs1) (Add rs1 rs1)) (Add (Add rs1 rs1) (Add rs1 rs1)))) (Add (Add (Add (Add rs1 rs1) (Add rs1 rs1)) (Add (Add rs1 rs1) (Add rs1 rs1))) (Add (Add (Add rs1 rs1) (Add rs1 rs1)) (Add (Add rs1 rs1) (Add rs1 rs1))))))

;; ============================================================
;; SLT Rewrites (Greenthumb-generated)
;; ============================================================

;; ============================================================
;; SLTI Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 2: best-len2.s
;; Greenthumb sequence:
;;   1.     addi rd=x4 rs1=x0 imm=5
;;   2.     slt rd=x1 rs1=x2 rs2=x4
(birewrite (Slti rs1 (ImmVal 5))
           (Slt rs1 (Addi (RegVal "x0") (ImmVal 5))))

;; ============================================================
;; SLTIU Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 2: best-len2.s
;; Greenthumb sequence:
;;   1.     addi rd=x4 rs1=x0 imm=5
;;   2.     sltu rd=x1 rs1=x2 rs2=x4
(birewrite (Sltiu rs1 (ImmVal 5))
           (Sltu rs1 (Addi (RegVal "x0") (ImmVal 5))))

;; ============================================================
;; SLTU Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 3: best-len3.s
;; Greenthumb sequence:
;;   1.     xori rd=x4 rs1=x2 imm=-2147483648
;;   2.     xori rd=x5 rs1=x3 imm=-2147483648
;;   3.     slt rd=x1 rs1=x4 rs2=x5
(birewrite (Sltu rs1 rs2)
           (Slt (Xori rs1 (ImmVal -2147483648)) (Xori rs2 (ImmVal -2147483648))))

;; ============================================================
;; SRA Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 51: best-len48-simple.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     slti rd=x4 rs1=x3 imm=0
;;   3.     xori rd=x4 rs1=x4 imm=1
;;   4.     sub rd=x4 rs1=x0 rs2=x4
;;   5.     and rd=x1 rs1=x1 rs2=x4
;;   6.     sltiu rd=x5 rs1=x3 imm=32
;;   7.     sub rd=x5 rs1=x0 rs2=x5
;;   8.     srai rd=x6 rs1=x2 imm=31
;;   9.     xori rd=x7 rs1=x5 imm=-1
;;   10.     and rd=x6 rs1=x6 rs2=x7
;;   11.     and rd=x1 rs1=x1 rs2=x5
;;   12.     or rd=x1 rs1=x1 rs2=x6
;;   13.     andi rd=x5 rs1=x3 imm=1
;;   14.     sub rd=x6 rs1=x0 rs2=x5
;;   15.     srai rd=x7 rs1=x1 imm=1
;;   16.     and rd=x8 rs1=x7 rs2=x6
;;   17.     xori rd=x6 rs1=x6 imm=-1
;;   18.     and rd=x9 rs1=x1 rs2=x6
;;   19.     or rd=x1 rs1=x8 rs2=x9
;;   20.     andi rd=x5 rs1=x3 imm=2
;;   21.     srli rd=x5 rs1=x5 imm=1
;;   22.     sub rd=x6 rs1=x0 rs2=x5
;;   23.     srai rd=x7 rs1=x1 imm=2
;;   24.     and rd=x8 rs1=x7 rs2=x6
;;   25.     xori rd=x6 rs1=x6 imm=-1
;;   26.     and rd=x9 rs1=x1 rs2=x6
;;   27.     or rd=x1 rs1=x8 rs2=x9
;;   28.     andi rd=x5 rs1=x3 imm=4
;;   29.     srli rd=x5 rs1=x5 imm=2
;;   30.     sub rd=x6 rs1=x0 rs2=x5
;;   31.     srai rd=x7 rs1=x1 imm=4
;;   32.     and rd=x8 rs1=x7 rs2=x6
;;   33.     xori rd=x6 rs1=x6 imm=-1
;;   34.     and rd=x9 rs1=x1 rs2=x6
;;   35.     or rd=x1 rs1=x8 rs2=x9
;;   36.     andi rd=x5 rs1=x3 imm=8
;;   37.     srli rd=x5 rs1=x5 imm=3
;;   38.     sub rd=x6 rs1=x0 rs2=x5
;;   39.     srai rd=x7 rs1=x1 imm=8
;;   40.     and rd=x8 rs1=x7 rs2=x6
;;   41.     xori rd=x6 rs1=x6 imm=-1
;;   42.     and rd=x9 rs1=x1 rs2=x6
;;   43.     or rd=x1 rs1=x8 rs2=x9
;;   44.     andi rd=x5 rs1=x3 imm=16
;;   45.     srli rd=x5 rs1=x5 imm=4
;;   46.     sub rd=x6 rs1=x0 rs2=x5
;;   47.     srai rd=x7 rs1=x1 imm=16
;;   48.     and rd=x8 rs1=x7 rs2=x6
;;   49.     xori rd=x6 rs1=x6 imm=-1
;;   50.     and rd=x9 rs1=x1 rs2=x6
;;   51.     or rd=x1 rs1=x8 rs2=x9
(birewrite (Sra rs1 rs2)
           (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (ImmVal 16)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Xori (Slti rs2 (ImmVal 0)) (ImmVal 1)))) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai rs1 (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4))) (ImmVal -1)))))

;; Length 51: best-len50-neg-check.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     slti rd=x4 rs1=x3 imm=0
;;   3.     sltiu rd=x5 rs1=x3 imm=32
;;   4.     and rd=x4 rs1=x4 rs2=x5
;;   5.     xori rd=x4 rs1=x4 imm=1
;;   6.     and rd=x4 rs1=x5 rs2=x4
;;   7.     sub rd=x4 rs1=x0 rs2=x4
;;   8.     srai rd=x5 rs1=x1 imm=31
;;   9.     xori rd=x6 rs1=x4 imm=-1
;;   10.     and rd=x5 rs1=x5 rs2=x6
;;   11.     and rd=x1 rs1=x1 rs2=x4
;;   12.     or rd=x1 rs1=x1 rs2=x5
;;   13.     andi rd=x5 rs1=x3 imm=1
;;   14.     sub rd=x6 rs1=x0 rs2=x5
;;   15.     srai rd=x7 rs1=x1 imm=1
;;   16.     and rd=x8 rs1=x7 rs2=x6
;;   17.     xori rd=x6 rs1=x6 imm=-1
;;   18.     and rd=x9 rs1=x1 rs2=x6
;;   19.     or rd=x1 rs1=x8 rs2=x9
;;   20.     andi rd=x5 rs1=x3 imm=2
;;   21.     srli rd=x5 rs1=x5 imm=1
;;   22.     sub rd=x6 rs1=x0 rs2=x5
;;   23.     srai rd=x7 rs1=x1 imm=2
;;   24.     and rd=x8 rs1=x7 rs2=x6
;;   25.     xori rd=x6 rs1=x6 imm=-1
;;   26.     and rd=x9 rs1=x1 rs2=x6
;;   27.     or rd=x1 rs1=x8 rs2=x9
;;   28.     andi rd=x5 rs1=x3 imm=4
;;   29.     srli rd=x5 rs1=x5 imm=2
;;   30.     sub rd=x6 rs1=x0 rs2=x5
;;   31.     srai rd=x7 rs1=x1 imm=4
;;   32.     and rd=x8 rs1=x7 rs2=x6
;;   33.     xori rd=x6 rs1=x6 imm=-1
;;   34.     and rd=x9 rs1=x1 rs2=x6
;;   35.     or rd=x1 rs1=x8 rs2=x9
;;   36.     andi rd=x5 rs1=x3 imm=8
;;   37.     srli rd=x5 rs1=x5 imm=3
;;   38.     sub rd=x6 rs1=x0 rs2=x5
;;   39.     srai rd=x7 rs1=x1 imm=8
;;   40.     and rd=x8 rs1=x7 rs2=x6
;;   41.     xori rd=x6 rs1=x6 imm=-1
;;   42.     and rd=x9 rs1=x1 rs2=x6
;;   43.     or rd=x1 rs1=x8 rs2=x9
;;   44.     andi rd=x5 rs1=x3 imm=16
;;   45.     srli rd=x5 rs1=x5 imm=4
;;   46.     sub rd=x6 rs1=x0 rs2=x5
;;   47.     srai rd=x7 rs1=x1 imm=16
;;   48.     and rd=x8 rs1=x7 rs2=x6
;;   49.     xori rd=x6 rs1=x6 imm=-1
;;   50.     and rd=x9 rs1=x1 rs2=x6
;;   51.     or rd=x1 rs1=x8 rs2=x9
(birewrite (Sra rs1 rs2)
           (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (ImmVal 16)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1))))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (And (Sltiu rs2 (ImmVal 32)) (Xori (And (Slti rs2 (ImmVal 0)) (Sltiu rs2 (ImmVal 32))) (ImmVal 1)))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4))) (ImmVal -1)))))

;; Length 43: best-len50-zero.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     sltiu rd=x4 rs1=x3 imm=32
;;   3.     sub rd=x4 rs1=x0 rs2=x4
;;   4.     and rd=x1 rs1=x1 rs2=x4
;;   5.     andi rd=x5 rs1=x3 imm=1
;;   6.     sub rd=x6 rs1=x0 rs2=x5
;;   7.     srai rd=x7 rs1=x1 imm=1
;;   8.     and rd=x8 rs1=x7 rs2=x6
;;   9.     xori rd=x6 rs1=x6 imm=-1
;;   10.     and rd=x9 rs1=x1 rs2=x6
;;   11.     or rd=x1 rs1=x8 rs2=x9
;;   12.     andi rd=x5 rs1=x3 imm=2
;;   13.     srli rd=x5 rs1=x5 imm=1
;;   14.     sub rd=x6 rs1=x0 rs2=x5
;;   15.     srai rd=x7 rs1=x1 imm=2
;;   16.     and rd=x8 rs1=x7 rs2=x6
;;   17.     xori rd=x6 rs1=x6 imm=-1
;;   18.     and rd=x9 rs1=x1 rs2=x6
;;   19.     or rd=x1 rs1=x8 rs2=x9
;;   20.     andi rd=x5 rs1=x3 imm=4
;;   21.     srli rd=x5 rs1=x5 imm=2
;;   22.     sub rd=x6 rs1=x0 rs2=x5
;;   23.     srai rd=x7 rs1=x1 imm=4
;;   24.     and rd=x8 rs1=x7 rs2=x6
;;   25.     xori rd=x6 rs1=x6 imm=-1
;;   26.     and rd=x9 rs1=x1 rs2=x6
;;   27.     or rd=x1 rs1=x8 rs2=x9
;;   28.     andi rd=x5 rs1=x3 imm=8
;;   29.     srli rd=x5 rs1=x5 imm=3
;;   30.     sub rd=x6 rs1=x0 rs2=x5
;;   31.     srai rd=x7 rs1=x1 imm=8
;;   32.     and rd=x8 rs1=x7 rs2=x6
;;   33.     xori rd=x6 rs1=x6 imm=-1
;;   34.     and rd=x9 rs1=x1 rs2=x6
;;   35.     or rd=x1 rs1=x8 rs2=x9
;;   36.     andi rd=x5 rs1=x3 imm=16
;;   37.     srli rd=x5 rs1=x5 imm=4
;;   38.     sub rd=x6 rs1=x0 rs2=x5
;;   39.     srai rd=x7 rs1=x1 imm=16
;;   40.     and rd=x8 rs1=x7 rs2=x6
;;   41.     xori rd=x6 rs1=x6 imm=-1
;;   42.     and rd=x9 rs1=x1 rs2=x6
;;   43.     or rd=x1 rs1=x8 rs2=x9
(birewrite (Sra rs1 rs2)
           (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (ImmVal 16)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4))) (ImmVal -1)))))

;; Length 47: best-len52-correct.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     sltiu rd=x4 rs1=x3 imm=32
;;   3.     srai rd=x5 rs1=x1 imm=31
;;   4.     sub rd=x6 rs1=x0 rs2=x4
;;   5.     and rd=x1 rs1=x1 rs2=x6
;;   6.     xori rd=x6 rs1=x6 imm=-1
;;   7.     and rd=x5 rs1=x5 rs2=x6
;;   8.     or rd=x1 rs1=x1 rs2=x5
;;   9.     andi rd=x5 rs1=x3 imm=1
;;   10.     sub rd=x6 rs1=x0 rs2=x5
;;   11.     srai rd=x7 rs1=x1 imm=1
;;   12.     and rd=x8 rs1=x7 rs2=x6
;;   13.     xori rd=x6 rs1=x6 imm=-1
;;   14.     and rd=x9 rs1=x1 rs2=x6
;;   15.     or rd=x1 rs1=x8 rs2=x9
;;   16.     andi rd=x5 rs1=x3 imm=2
;;   17.     srli rd=x5 rs1=x5 imm=1
;;   18.     sub rd=x6 rs1=x0 rs2=x5
;;   19.     srai rd=x7 rs1=x1 imm=2
;;   20.     and rd=x8 rs1=x7 rs2=x6
;;   21.     xori rd=x6 rs1=x6 imm=-1
;;   22.     and rd=x9 rs1=x1 rs2=x6
;;   23.     or rd=x1 rs1=x8 rs2=x9
;;   24.     andi rd=x5 rs1=x3 imm=4
;;   25.     srli rd=x5 rs1=x5 imm=2
;;   26.     sub rd=x6 rs1=x0 rs2=x5
;;   27.     srai rd=x7 rs1=x1 imm=4
;;   28.     and rd=x8 rs1=x7 rs2=x6
;;   29.     xori rd=x6 rs1=x6 imm=-1
;;   30.     and rd=x9 rs1=x1 rs2=x6
;;   31.     or rd=x1 rs1=x8 rs2=x9
;;   32.     andi rd=x5 rs1=x3 imm=8
;;   33.     srli rd=x5 rs1=x5 imm=3
;;   34.     sub rd=x6 rs1=x0 rs2=x5
;;   35.     srai rd=x7 rs1=x1 imm=8
;;   36.     and rd=x8 rs1=x7 rs2=x6
;;   37.     xori rd=x6 rs1=x6 imm=-1
;;   38.     and rd=x9 rs1=x1 rs2=x6
;;   39.     or rd=x1 rs1=x8 rs2=x9
;;   40.     andi rd=x5 rs1=x3 imm=16
;;   41.     srli rd=x5 rs1=x5 imm=4
;;   42.     sub rd=x6 rs1=x0 rs2=x5
;;   43.     srai rd=x7 rs1=x1 imm=16
;;   44.     and rd=x8 rs1=x7 rs2=x6
;;   45.     xori rd=x6 rs1=x6 imm=-1
;;   46.     and rd=x9 rs1=x1 rs2=x6
;;   47.     or rd=x1 rs1=x8 rs2=x9
(birewrite (Sra rs1 rs2)
           (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (ImmVal 16)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4))) (ImmVal -1)))))

;; Length 49: best-len55-fixed.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     sltiu rd=x4 rs1=x3 imm=32
;;   3.     slli rd=x5 rs1=x1 imm=1
;;   4.     srai rd=x5 rs1=x5 imm=1
;;   5.     xori rd=x6 rs1=x4 imm=1
;;   6.     sub rd=x6 rs1=x0 rs2=x6
;;   7.     or rd=x5 rs1=x5 rs2=x6
;;   8.     sub rd=x4 rs1=x0 rs2=x4
;;   9.     and rd=x1 rs1=x1 rs2=x4
;;   10.     or rd=x1 rs1=x1 rs2=x5
;;   11.     andi rd=x5 rs1=x3 imm=1
;;   12.     sub rd=x6 rs1=x0 rs2=x5
;;   13.     srai rd=x7 rs1=x1 imm=1
;;   14.     and rd=x8 rs1=x7 rs2=x6
;;   15.     xori rd=x6 rs1=x6 imm=-1
;;   16.     and rd=x9 rs1=x1 rs2=x6
;;   17.     or rd=x1 rs1=x8 rs2=x9
;;   18.     andi rd=x5 rs1=x3 imm=2
;;   19.     srli rd=x5 rs1=x5 imm=1
;;   20.     sub rd=x6 rs1=x0 rs2=x5
;;   21.     srai rd=x7 rs1=x1 imm=2
;;   22.     and rd=x8 rs1=x7 rs2=x6
;;   23.     xori rd=x6 rs1=x6 imm=-1
;;   24.     and rd=x9 rs1=x1 rs2=x6
;;   25.     or rd=x1 rs1=x8 rs2=x9
;;   26.     andi rd=x5 rs1=x3 imm=4
;;   27.     srli rd=x5 rs1=x5 imm=2
;;   28.     sub rd=x6 rs1=x0 rs2=x5
;;   29.     srai rd=x7 rs1=x1 imm=4
;;   30.     and rd=x8 rs1=x7 rs2=x6
;;   31.     xori rd=x6 rs1=x6 imm=-1
;;   32.     and rd=x9 rs1=x1 rs2=x6
;;   33.     or rd=x1 rs1=x8 rs2=x9
;;   34.     andi rd=x5 rs1=x3 imm=8
;;   35.     srli rd=x5 rs1=x5 imm=3
;;   36.     sub rd=x6 rs1=x0 rs2=x5
;;   37.     srai rd=x7 rs1=x1 imm=8
;;   38.     and rd=x8 rs1=x7 rs2=x6
;;   39.     xori rd=x6 rs1=x6 imm=-1
;;   40.     and rd=x9 rs1=x1 rs2=x6
;;   41.     or rd=x1 rs1=x8 rs2=x9
;;   42.     andi rd=x5 rs1=x3 imm=16
;;   43.     srli rd=x5 rs1=x5 imm=4
;;   44.     sub rd=x6 rs1=x0 rs2=x5
;;   45.     srai rd=x7 rs1=x1 imm=16
;;   46.     and rd=x8 rs1=x7 rs2=x6
;;   47.     xori rd=x6 rs1=x6 imm=-1
;;   48.     and rd=x9 rs1=x1 rs2=x6
;;   49.     or rd=x1 rs1=x8 rs2=x9
(birewrite (Sra rs1 rs2)
           (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (ImmVal 16)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Sub (RegVal "x0") (Sltiu rs2 (ImmVal 32)))) (Or (Srai (Slli (Add rs1 (RegVal "x0")) (ImmVal 1)) (ImmVal 1)) (Sub (RegVal "x0") (Xori (Sltiu rs2 (ImmVal 32)) (ImmVal 1))))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4))) (ImmVal -1)))))

;; Length 52: best-len55-unsigned.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     slti rd=x4 rs1=x3 imm=0
;;   3.     xor rd=x5 rs1=x5 rs2=x5
;;   4.     addi rd=x5 rs1=x5 imm=32
;;   5.     sltu rd=x6 rs1=x3 rs2=x5
;;   6.     xor rd=x6 rs1=x6 rs2=1
;;   7.     or rd=x4 rs1=x4 rs2=x6
;;   8.     sub rd=x4 rs1=x0 rs2=x4
;;   9.     xori rd=x4 rs1=x4 imm=-1
;;   10.     srai rd=x5 rs1=x1 imm=31
;;   11.     and rd=x5 rs1=x5 rs2=x4
;;   12.     and rd=x1 rs1=x1 rs2=x4
;;   13.     or rd=x1 rs1=x1 rs2=x5
;;   14.     andi rd=x5 rs1=x3 imm=1
;;   15.     sub rd=x6 rs1=x0 rs2=x5
;;   16.     srai rd=x7 rs1=x1 imm=1
;;   17.     and rd=x8 rs1=x7 rs2=x6
;;   18.     xori rd=x6 rs1=x6 imm=-1
;;   19.     and rd=x9 rs1=x1 rs2=x6
;;   20.     or rd=x1 rs1=x8 rs2=x9
;;   21.     andi rd=x5 rs1=x3 imm=2
;;   22.     srli rd=x5 rs1=x5 imm=1
;;   23.     sub rd=x6 rs1=x0 rs2=x5
;;   24.     srai rd=x7 rs1=x1 imm=2
;;   25.     and rd=x8 rs1=x7 rs2=x6
;;   26.     xori rd=x6 rs1=x6 imm=-1
;;   27.     and rd=x9 rs1=x1 rs2=x6
;;   28.     or rd=x1 rs1=x8 rs2=x9
;;   29.     andi rd=x5 rs1=x3 imm=4
;;   30.     srli rd=x5 rs1=x5 imm=2
;;   31.     sub rd=x6 rs1=x0 rs2=x5
;;   32.     srai rd=x7 rs1=x1 imm=4
;;   33.     and rd=x8 rs1=x7 rs2=x6
;;   34.     xori rd=x6 rs1=x6 imm=-1
;;   35.     and rd=x9 rs1=x1 rs2=x6
;;   36.     or rd=x1 rs1=x8 rs2=x9
;;   37.     andi rd=x5 rs1=x3 imm=8
;;   38.     srli rd=x5 rs1=x5 imm=3
;;   39.     sub rd=x6 rs1=x0 rs2=x5
;;   40.     srai rd=x7 rs1=x1 imm=8
;;   41.     and rd=x8 rs1=x7 rs2=x6
;;   42.     xori rd=x6 rs1=x6 imm=-1
;;   43.     and rd=x9 rs1=x1 rs2=x6
;;   44.     or rd=x1 rs1=x8 rs2=x9
;;   45.     andi rd=x5 rs1=x3 imm=16
;;   46.     srli rd=x5 rs1=x5 imm=4
;;   47.     sub rd=x6 rs1=x0 rs2=x5
;;   48.     srai rd=x7 rs1=x1 imm=16
;;   49.     and rd=x8 rs1=x7 rs2=x6
;;   50.     xori rd=x6 rs1=x6 imm=-1
;;   51.     and rd=x9 rs1=x1 rs2=x6
;;   52.     or rd=x1 rs1=x8 rs2=x9
(birewrite (Sra rs1 rs2)
           (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (ImmVal 16)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (ImmVal 8)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (ImmVal 4)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2)))) (And (Or (And (Srai (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (ImmVal 2)) (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1)))) (And (Or (And (Srai (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (ImmVal 1)) (Sub (RegVal "x0") (Andi rs2 (ImmVal 1)))) (And (Or (And (Add rs1 (RegVal "x0")) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1))) (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 31)) (Xori (Sub (RegVal "x0") (Or (Slti rs2 (ImmVal 0)) (Xor (Sltu rs2 (Addi (Xor (RegVal "x5") (RegVal "x5")) (ImmVal 32))) (RegVal "1")))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Andi rs2 (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 2)) (ImmVal 1))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 4)) (ImmVal 2))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 8)) (ImmVal 3))) (ImmVal -1)))) (Xori (Sub (RegVal "x0") (Srli (Andi rs2 (ImmVal 16)) (ImmVal 4))) (ImmVal -1)))))

;; Length 46: best-len55.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     andi rd=x4 rs1=x3 imm=31
;;   3.     andi rd=x5 rs1=x4 imm=1
;;   4.     slli rd=x6 rs1=x5 imm=31
;;   5.     srai rd=x6 rs1=x6 imm=31
;;   6.     srai rd=x7 rs1=x1 imm=1
;;   7.     and rd=x8 rs1=x7 rs2=x6
;;   8.     xori rd=x6 rs1=x6 imm=-1
;;   9.     and rd=x9 rs1=x1 rs2=x6
;;   10.     or rd=x1 rs1=x8 rs2=x9
;;   11.     andi rd=x5 rs1=x4 imm=2
;;   12.     srli rd=x5 rs1=x5 imm=1
;;   13.     slli rd=x6 rs1=x5 imm=31
;;   14.     srai rd=x6 rs1=x6 imm=31
;;   15.     srai rd=x7 rs1=x1 imm=2
;;   16.     and rd=x8 rs1=x7 rs2=x6
;;   17.     xori rd=x6 rs1=x6 imm=-1
;;   18.     and rd=x9 rs1=x1 rs2=x6
;;   19.     or rd=x1 rs1=x8 rs2=x9
;;   20.     andi rd=x5 rs1=x4 imm=4
;;   21.     srli rd=x5 rs1=x5 imm=2
;;   22.     slli rd=x6 rs1=x5 imm=31
;;   23.     srai rd=x6 rs1=x6 imm=31
;;   24.     srai rd=x7 rs1=x1 imm=4
;;   25.     and rd=x8 rs1=x7 rs2=x6
;;   26.     xori rd=x6 rs1=x6 imm=-1
;;   27.     and rd=x9 rs1=x1 rs2=x6
;;   28.     or rd=x1 rs1=x8 rs2=x9
;;   29.     andi rd=x5 rs1=x4 imm=8
;;   30.     srli rd=x5 rs1=x5 imm=3
;;   31.     slli rd=x6 rs1=x5 imm=31
;;   32.     srai rd=x6 rs1=x6 imm=31
;;   33.     srai rd=x7 rs1=x1 imm=8
;;   34.     and rd=x8 rs1=x7 rs2=x6
;;   35.     xori rd=x6 rs1=x6 imm=-1
;;   36.     and rd=x9 rs1=x1 rs2=x6
;;   37.     or rd=x1 rs1=x8 rs2=x9
;;   38.     andi rd=x5 rs1=x4 imm=16
;;   39.     srli rd=x5 rs1=x5 imm=4
;;   40.     slli rd=x6 rs1=x5 imm=31
;;   41.     srai rd=x6 rs1=x6 imm=31
;;   42.     srai rd=x7 rs1=x1 imm=16
;;   43.     and rd=x8 rs1=x7 rs2=x6
;;   44.     xori rd=x6 rs1=x6 imm=-1
;;   45.     and rd=x9 rs1=x1 rs2=x6
;;   46.     or rd=x1 rs1=x8 rs2=x9
(birewrite (Sra rs1 rs2)
           (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 8)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 16)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 16)) (ImmVal 4)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 8)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Or (And (Srai (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srai (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 16)) (ImmVal 4)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))))

;; ============================================================
;; SRAI Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 2: best-len2.s
;; Greenthumb sequence:
;;   1.     xori rd=x1 rs1=x0 imm=5
;;   2.     sra rd=x1 rs1=x2 rs2=x1
(birewrite (Srai rs1 (ImmVal 5))
           (Sra rs1 (Xori (RegVal "x0") (ImmVal 5))))

;; Length 2: best-len3.s
;; Greenthumb sequence:
;;   1.     addi rd=x1 rs1=x0 imm=5
;;   2.     sra rd=x1 rs1=x2 rs2=x1
(birewrite (Srai rs1 (ImmVal 5))
           (Sra rs1 (Addi (RegVal "x0") (ImmVal 5))))

;; ============================================================
;; SRL Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 46: best-len52.s
;; Greenthumb sequence:
;;   1.     add rd=x1 rs1=x2 rs2=x0
;;   2.     andi rd=x4 rs1=x3 imm=31
;;   3.     andi rd=x5 rs1=x4 imm=1
;;   4.     slli rd=x6 rs1=x5 imm=31
;;   5.     srai rd=x6 rs1=x6 imm=31
;;   6.     srli rd=x7 rs1=x1 imm=1
;;   7.     and rd=x8 rs1=x7 rs2=x6
;;   8.     xori rd=x6 rs1=x6 imm=-1
;;   9.     and rd=x9 rs1=x1 rs2=x6
;;   10.     or rd=x1 rs1=x8 rs2=x9
;;   11.     andi rd=x5 rs1=x4 imm=2
;;   12.     srli rd=x5 rs1=x5 imm=1
;;   13.     slli rd=x6 rs1=x5 imm=31
;;   14.     srai rd=x6 rs1=x6 imm=31
;;   15.     srli rd=x7 rs1=x1 imm=2
;;   16.     and rd=x8 rs1=x7 rs2=x6
;;   17.     xori rd=x6 rs1=x6 imm=-1
;;   18.     and rd=x9 rs1=x1 rs2=x6
;;   19.     or rd=x1 rs1=x8 rs2=x9
;;   20.     andi rd=x5 rs1=x4 imm=4
;;   21.     srli rd=x5 rs1=x5 imm=2
;;   22.     slli rd=x6 rs1=x5 imm=31
;;   23.     srai rd=x6 rs1=x6 imm=31
;;   24.     srli rd=x7 rs1=x1 imm=4
;;   25.     and rd=x8 rs1=x7 rs2=x6
;;   26.     xori rd=x6 rs1=x6 imm=-1
;;   27.     and rd=x9 rs1=x1 rs2=x6
;;   28.     or rd=x1 rs1=x8 rs2=x9
;;   29.     andi rd=x5 rs1=x4 imm=8
;;   30.     srli rd=x5 rs1=x5 imm=3
;;   31.     slli rd=x6 rs1=x5 imm=31
;;   32.     srai rd=x6 rs1=x6 imm=31
;;   33.     srli rd=x7 rs1=x1 imm=8
;;   34.     and rd=x8 rs1=x7 rs2=x6
;;   35.     xori rd=x6 rs1=x6 imm=-1
;;   36.     and rd=x9 rs1=x1 rs2=x6
;;   37.     or rd=x1 rs1=x8 rs2=x9
;;   38.     andi rd=x5 rs1=x4 imm=16
;;   39.     srli rd=x5 rs1=x5 imm=4
;;   40.     slli rd=x6 rs1=x5 imm=31
;;   41.     srai rd=x6 rs1=x6 imm=31
;;   42.     srli rd=x7 rs1=x1 imm=16
;;   43.     and rd=x8 rs1=x7 rs2=x6
;;   44.     xori rd=x6 rs1=x6 imm=-1
;;   45.     and rd=x9 rs1=x1 rs2=x6
;;   46.     or rd=x1 rs1=x8 rs2=x9
(birewrite (Srl rs1 rs2)
           (Or (And (Srli (Or (And (Srli (Or (And (Srli (Or (And (Srli (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 8)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Or (And (Srli (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 16)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 16)) (ImmVal 4)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Or (And (Srli (Or (And (Srli (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 8)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Or (And (Srli (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 4)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (ImmVal 2)) (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Or (And (Srli (Add rs1 (RegVal "x0")) (ImmVal 1)) (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31))) (And (Add rs1 (RegVal "x0")) (Xori (Srai (Slli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 2)) (ImmVal 1)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 4)) (ImmVal 2)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 8)) (ImmVal 3)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))) (Xori (Srai (Slli (Srli (Andi (Andi rs2 (ImmVal 31)) (ImmVal 16)) (ImmVal 4)) (ImmVal 31)) (ImmVal 31)) (ImmVal -1)))))

;; Length 14: best-len6.s
;; Greenthumb sequence:
;;   1.     andi rd=x4 rs1=x3 imm=31
;;   2.     sra rd=x5 rs1=x2 rs2=x4
;;   3.     addi rd=x6 rs1=x0 imm=32
;;   4.     sub rd=x6 rs1=x6 rs2=x4
;;   5.     addi rd=x7 rs1=x0 imm=1
;;   6.     sll rd=x7 rs1=x7 rs2=x6
;;   7.     addi rd=x7 rs1=x7 imm=-1
;;   8.     and rd=x5 rs1=x5 rs2=x7
;;   9.     sltu rd=x6 rs1=x0 rs2=x4
;;   10.     sub rd=x6 rs1=x0 rs2=x6
;;   11.     and rd=x5 rs1=x5 rs2=x6
;;   12.     xori rd=x6 rs1=x6 imm=-1
;;   13.     and rd=x1 rs1=x2 rs2=x6
;;   14.     or rd=x1 rs1=x1 rs2=x5
(birewrite (Srl rs1 rs2)
           (Or (And rs1 (Xori (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal 31)))) (ImmVal -1))) (And (And (Sra rs1 (Andi rs2 (ImmVal 31))) (Addi (Sll (Addi (RegVal "x0") (ImmVal 1)) (Sub (Addi (RegVal "x0") (ImmVal 32)) (Andi rs2 (ImmVal 31)))) (ImmVal -1))) (Sub (RegVal "x0") (Sltu (RegVal "x0") (Andi rs2 (ImmVal 31)))))))

;; ============================================================
;; SRLI Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 2: best-len2.s
;; Greenthumb sequence:
;;   1.     addi rd=x1 rs1=x0 imm=5
;;   2.     srl rd=x1 rs1=x2 rs2=x1
(birewrite (Srli rs1 (ImmVal 5))
           (Srl rs1 (Addi (RegVal "x0") (ImmVal 5))))

;; ============================================================
;; SUB Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 3: best-len2.s
;; Greenthumb sequence:
;;   1.     xori rd=x3_tmp rs1=x3 imm=-1
;;   2.     addi rd=x3 rs1=x3_tmp imm=1
;;   3.     add rd=x1 rs1=x2 rs2=x3
(birewrite (Sub rs1 rs2)
           (Add rs1 (Addi (Xori rs2 (ImmVal -1)) (ImmVal 1))))

;; ============================================================
;; XOR Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 4: best-len4.s
;; Greenthumb sequence:
;;   1.     or rd=x1 rs1=x3 rs2=x2
;;   2.     and rd=x2 rs1=x2 rs2=x3
;;   3.     xori rd=x2 rs1=x2 imm=-1
;;   4.     and rd=x1 rs1=x2 rs2=x1
(birewrite (Xor rs1 rs2)
           (And (Xori (And rs1 rs2) (ImmVal -1)) (Or rs2 rs1)))

;; Length 4: best-len5.s
;; Greenthumb sequence:
;;   1.     or rd=x1 rs1=x3 rs2=x2
;;   2.     and rd=x3 rs1=x3 rs2=x2
;;   3.     sub rd=x1 rs1=x1 rs2=x3
;;   4.     add rd=x2 rs1=x1 rs2=x1
(birewrite (Xor rs1 rs2)
           (Sub (Or rs2 rs1) (And rs2 rs1)))

;; ============================================================
;; XORI Rewrites (Greenthumb-generated)
;; ============================================================

;; Length 2: best-len2.s
;; Greenthumb sequence:
;;   1.     ori rd=x1 rs1=x0 imm=5
;;   2.     xor rd=x1 rs1=x2 rs2=x1
(birewrite (Xori rs1 (ImmVal 5))
           (Xor rs1 (Ori (RegVal "x0") (ImmVal 5))))
